# ุฏุงูููุฏุฑ ูฺฉุชุจโุฎููู (Maktabkhooneh Downloader)
ุงุจุฒุงุฑ ุฎุท ูุฑูุงู ุจุฑุง ุฏุงูููุฏ ูุฏููุง ูุงุจูโุฏุณุชุฑุณ ุฏูุฑูโูุง ุณุงุช [ูฺฉุชุจโุฎููู](https://maktabkhooneh.org/) ุดุงูู ูุฏููุง ุฏุฑุณโูุงุ ูุงููุง ุถููู ุฏุฑุณุ ุฒุฑููุณ ูุฏูุ ุจู ุดฺฉู ููู ุจุง ููุ ฺฉุฌุง ู ุทุจูู ุจูุฏ ุดุฏู. \
ููุท ูุญุชูุง ุฑุง ูโุชูุงูุฏ ุฏุงูููุฏ ฺฉูุฏ ฺฉู ูุงูููุงู ุจู ุขู ุฏุณุชุฑุณ ุฏุงุฑุฏ.

![maktabkhooneh website screenshot](https://github.com/user-attachments/assets/b54f6fac-10f0-423c-9da2-236c4d8cc5d3)

## ๐ฌ ูุฏู
https://github.com/user-attachments/assets/38ecfd3e-4281-4e20-854d-18ad5dae5691

## โจ ุงูฺฉุงูุงุช
- ูุฑูุฏ ู ูุงฺฏู ุจู ุณุงุช ุจุง ุงูู ู ูพุณูุฑุฏ ู ุฐุฎุฑู ฺฉูฺฉ ุฏุฑ ูุงู ูุดุณุช ฺูุฏฺฉุงุฑุจุฑู
- ุงุญุฑุงุฒ ููุช ุจุง ฺฉูฺฉ ุงุฒ ุทุฑู ูุชุบุฑูุง ูุญุท
- ุชุดุฎุต ู ุงูุชุฎุงุจ ุจูุชุฑู ฺฉูุช ูุฏู ุฏุฑุณ ููุฑุฏ ูุธุฑ
- ูพูุดู ุฎุฑูุฌ ุซุงุจุช: `download/<ูุงู ุฏูุฑู>`
- ุฏุงูููุฏ ุฒุฑููุณ ูุฏููุง ุงฺฏุฑ ููุฌูุฏ ุจุงุดุฏุ ุจุง ููุงู ูุงู ูพุงู ูุฏู
- ุฏุงูููุฏ ูุงูโูุง ุถููู ุฏุฑุณุ ฺฉูุงุฑ ูุฏู
- ููุงุด ุฎูุงุตู ูพุฑููุงู ฺฉุงุฑุจุฑ (ูุถุนุช ูุงฺฏูุ ุงููุ ุงุดุชุฑุงฺฉุ ุฎุฑุฏ ุฏูุฑู)
- ุญุงูุช ูููููโฺฏุฑ (Sample) ุจุง ุฏุงูููุฏ ุชููุง N ุจุงุช ุงูู ูุฑ ูุฏู ุจุฑุง ุชุณุช ุณุฑุน
- ุงุฏุงูู ุฏุงูููุฏ ุงุฒ ููุงูโุฌุง (Resume) ุฏุฑ ุตูุฑุช ูุทุน ุดุฏู ุง ุงุฌุฑุง ูุฌุฏุฏ
- ููุงุฑ ูพุดุฑูุช ุฏูู: ุฏุฑุตุฏ + ุญุฌู ุฏุงูููุฏ ุดุฏู / ฺฉู + ุณุฑุนุช ุชูุฑุจ
- ูุงฺฏโูุง ุฑูฺฏ ู ุงููุฌ ุจุฑุง ุฎูุงูุง ู ุชุฌุฑุจู ุจูุชุฑ

## โ ูพุดโูุงุฒูุง
- โNode.js ูุณุฎู 18 ุง ุจุงูุงุชุฑ
- ฺฉ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฏุฑ maktabkhooneh.org

## ๐ ูุฑูุฏ (Login) ู ูุดุณุช ฺูุฏฺฉุงุฑุจุฑู
ุฏู ุฑุงู ุงุตู:

1. ุงุณุชูุงุฏู ุงุฒ ุงูู ู ูพุณูุฑุฏ: (ุณุงุฏู ู ูพุดููุงุฏ ูโุดูุฏ)
	 ```powershell
	 node download.mjs "https://maktabkhooneh.org/course/<slug>/" --user you@example.com --pass "Secret123" 
	 ```
	 ุฏุฑ ุงููู ูุฑูุฏุ ฺฉูฺฉ (csrftoken + sessionid) ุฏุฑ ูุงู ูพุดโูุฑุถ `session.json` ุฐุฎุฑู ูโุดูุฏ ู ุฏูุนุงุช ุจุนุฏ ุจุฏูู ูุงุฒ ุจู ูพุณูุฑุฏ ุงุณุชูุงุฏู ูโฺฏุฑุฏุฏ (ูฺฏุฑ ุงู ฺฉู ูููุถ ุดูุฏ ุง `--force-login` ุจุฒูุฏ).
2. ุงุณุชูุงุฏู ุงุฒ ฺฉูฺฉ ุขูุงุฏู (Override):
	 ุงฺฏุฑ ููโุฎูุงูุฏ ูพุณูุฑุฏ ุฑุง ุฏุฑ ุฎุท ูุฑูุงู ุจุฒูุฏุ ูโุชูุงูุฏ ฺฉูฺฉ ุฑุง ุจู ุตูุฑุช ุฏุณุช (ูุงููุฏ ูุจู) ุณุช ฺฉูุฏ ุชุง ูุงฺฏู ุฎูุฏฺฉุงุฑ ูุงุฏุฏู ฺฏุฑูุชู ุดูุฏ.

### ุณุงุฎุชุงุฑ ูุงู ูุดุณุช
ูุงู `session.json` ุจู ุตูุฑุช ฺูุฏฺฉุงุฑุจุฑู ุงุณุช:
```jsonc
{
	"users": {
		"you@example.com": { "cookie": "csrftoken=...; sessionid=...", "updated": "2025-08-17T12:34:56.000Z" },
		"other@example.com": { "cookie": "csrftoken=...; sessionid=...", "updated": "2025-08-17T13:00:00.000Z" }
	},
	"lastUsed": "you@example.com"
}
```
ุฏุฑ ูุฑ ุงุฌุฑุง ุงฺฏุฑ `--user` ูุดุฎุต ฺฉูุฏ ููุงู ฺฉุงุฑุจุฑ ูุฏู ูุฑุงุฑ ูโฺฏุฑุฏุ ูฺฏุฑูู ุขุฎุฑู ฺฉุงุฑุจุฑ ุงุณุชูุงุฏู ุดุฏู ุจุฑุฑุณ ูโุดูุฏ.

### ุงุฌุจุงุฑ ูุฑูุฏ ูุฌุฏุฏ
ุงฺฏุฑ ูโุฎูุงูุฏ ุจุง ูุฌูุฏ ูุนุชุจุฑ ุจูุฏู ูุดุณุชุ ุฏูุจุงุฑู ูุงฺฏู ุดูุฏ:
```powershell
node download.mjs "https://maktabkhooneh.org/course/<slug>/" --user you@example.com --pass "Secret123" --force-login 
```

## โ๏ธ ุชูุธู ฺฉูฺฉ (ุฑูุด ุฏุณุช ูุฏู ฺฉู ูพุดููุงุฏ ููโุดูุฏ!)

ุงฺฏุฑ ุชุฑุฌุญ ูโุฏูุฏ ฺฉูฺฉ ุฑุง ุฏุณุช ุณุช ฺฉูุฏ ุง ูุงฺฏู ูุณุชูู ฺฉุงุฑ ูฺฉุฑุฏุ ูุงููุฏ ูุจู ฺฉูฺฉ `sessionid` (ู ุจูุชุฑ: ููุฑุงู csrftoken) ุฑุง ุงุฒ ูุฑูุฑฺฏุฑ ุงุณุชุฎุฑุงุฌ ฺฉูุฏ.

ุจุนุฏ ุงุฒ ุงูฺฉู ุจู ุณุงุช maktabkhooneh.org ูุงฺฏู ุดุฏุฏ. ุฑู ุตูุญู ุฑุงุณุช ฺฉูฺฉ ฺฉุฑุฏู ู inspect ุฑุง ุจุฒูุฏ. (ุง CTRL+SHIFT+i ุจุฒูุฏ) ุจู ุชุจ Network ุจุฑูุฏ. ุตูุญู ุฑุง ุฑูุฑุด ฺฉูุฏ. ุฑู ุฏุฑุฎูุงุณุช ุงูู ฺฉูฺฉ ฺฉูุฏ. ุฏุฑ ุณูุช ููุงุจู ุฏูุจุงู Cookie ุจฺฏุฑุฏุฏ ู ุขูุฌุง ฺุฒ ฺฉู ููู ุงุณุช ููุฏุงุฑ sessionid ุงุณุช ู ุขู ุฑุง ฺฉูพ ุจฺฏุฑุฏ.

![Get Cookies](https://github.com/user-attachments/assets/7943bed5-ffae-4075-a2ba-29f091d572b4)

ุฏู ุฑูุด ุจุฑุง ุชูุธู ฺฉูฺฉ:
1) ูุชุบุฑ ูุญุท `MK_COOKIE`
2) ุง ูุฑุงุฑ ุฏุงุฏู ูุณุฑ ูุงู ฺฉูฺฉ ุฏุฑ `MK_COOKIE_FILE`

ูฺฉุชู: ฺูู ููุฏุงุฑ ฺฉูฺฉ ุดุงูู ฺฉุงุฑุงฺฉุชุฑูุง ูุงููุฏ `;` ู `=` ุงุณุชุ ุญุชูุงู ููุฏุงุฑ ุฑุง ุฏุงุฎู ฺฉูุชุดู ูุฑุงุฑ ุฏูุฏ.

### ููุฏูุฒ โ PowerShell
```powershell
# ฺฉูฺฉ ูุณุชูู
$env:MK_COOKIE = 'sessionid=...;'

# ุง: ูุณุฑ ูุงู ุดุงูู ฺฉูฺฉ
$env:MK_COOKIE_FILE = 'C:\\path\\to\\cookie.txt'
```

### ููุฏูุฒ โ CMD (Command Prompt)
```cmd
REM ฺฉูฺฉ ูุณุชูู
set "MK_COOKIE=sessionid=...;"

REM ุง: ูุณุฑ ูุงู ุดุงูู ฺฉูฺฉ
set "MK_COOKIE_FILE=C:\path\to\cookie.txt"
```

### ูููฺฉุณ / ูฺฉ โ Bash/Zsh
```bash
# ฺฉูฺฉ ูุณุชูู
export MK_COOKIE='sessionid=...;'

# ุง: ูุณุฑ ูุงู ุดุงูู ฺฉูฺฉ
export MK_COOKIE_FILE="$HOME/cookie.txt"
```

ูฺฉุชู: ุงฺฏุฑ ฺฉูฺฉ ูพฺุฏู ุง ฺูุฏุฎุท ุงุณุชุ ุฑูุด ูุงู (`MK_COOKIE_FILE`) ุชูุตู ูโุดูุฏ. ุงูุจุชู ุฏุฑ ุงูุฌุง ุชฺฉ ุฎุท ุงุณุช ู ููุงู ุชูุธู ูุชุบุฑ ูุญุท ฺฉูุงุช ูฺฉูุฏ.

## โถ๏ธ ุงุฌุฑุง
ููุงุด ุฑุงูููุง:
```powershell
node download.mjs --help 
```

ุงุฌุฑุง ุฏุงูููุฏ:
```powershell
node download.mjs "https://maktabkhooneh.org/course/<slug>/" 
```

ุงุฌุฑุง ุฏุงูููุฏ ุจุง ูุฑูุฏ ุฎูุฏฺฉุงุฑ ู ุฐุฎุฑู ูุดุณุช:
```powershell
node download.mjs "https://maktabkhooneh.org/course/<slug>/" --user you@example.com --pass "Secret123" 
```

ุงุฌุจุงุฑ ูุฑูุฏ ูุฌุฏุฏ:
```powershell
node download.mjs "https://maktabkhooneh.org/course/<slug>/" --user you@example.com --pass "Secret123" --force-login 
```

ูฺฉุชู: ุขุฏุฑุณ ุตูุญู ุฏูุฑูโ ููุฑุฏ ูุธุฑ ุฑุง ุฏุฑ ุฏุณุชูุฑุงุช ููู ุฌุงฺฏุฒู ฺฉูุฏ.

## ๐งช ุชุณุช ุนููฺฉุฑุฏ
ุญุงูุช ูููููโฺฏุฑ (ูุซูุงู 64KB ุงูู ูุฑ ูุฏู):

```powershell
node download.mjs "https://maktabkhooneh.org/course/<slug>/" --sample-bytes 65536 --verbose
```

ููฺูู ูโุชูุงูุฏ ููุฏุงุฑ ูููููโฺฏุฑ ุฑุง ุจุง ูุชุบุฑ ูุญุท ุณุช ฺฉูุฏ:
```powershell
$env:MK_SAMPLE_BYTES = "512000" 
node download.mjs "https://maktabkhooneh.org/course/<slug>/" 
```

## ๐ ุณุงุฎุชุงุฑ ุฎุฑูุฌ
ููู ูุงูโูุง ุฏุฑ ุฒุฑ ูพูุดู ุฒุฑ ุฏุงูููุฏ ู ุฐุฎุฑู ุฎูุงููุฏ ุดุฏ:
```
download/<ูุงู ุฏูุฑู>
```

## ๐ ูฺฉุงุช ุงููุช
- ูุงู `session.json` ุญุงู ฺฉูฺฉ ูุนุงู ู ุงุทูุงุนุงุช ูุงฺฏู ุดูุงุณุชุ ูุฑฺฏุฒ ุขู ุฑุง ุจู ุงุดุชุฑุงฺฉ ูฺฏุฐุงุฑุฏ.
- ุงุฒ ูุฑุงุฑุฏุงุฏู ูพุณูุฑุฏ ุฎุงู ุฏุฑ ุชุงุฑุฎฺู ุดู ุฎูุฏุฏุงุฑ ฺฉูุฏ (ูโุชูุงูุฏ ุงุฒ ฺฉ ุงุณฺฉุฑูพุช ูููุช ุง ูุชุบุฑ ูููุช ุงุณุชูุงุฏู ฺฉูุฏ).

## ๐ค ููุณูุฏู
- ููุณูุฏู/ูฺฏูุฏุงุฑูุฏู: [NabiKAZ](https://github.com/NabiKAZ)
- ุชูุชุฑ (X): [https://x.com/NabiKAZ](https://x.com/NabiKAZ)
- ุชูฺฏุฑุงู: [https://t.me/BotSorati](https://t.me/BotSorati)

## โญ ุญูุงุช ู ุฏููุช
ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุงุชุงู ููุฏ ุจูุฏุ ูุทูุงู ุฏุฑ ฺฏุชโูุงุจ ุจู ุขู ฺฉ โญ ุณุชุงุฑู ุจุฏูุฏ. \
ุจุฑุง ุญูุงุช ุงุฒ ุชูุณุนูโูุง ุจุนุฏ ูโุชูุงูุฏ ุจู ฺฉู ูพูู ุฒุฑุ TON ุฏููุช ฺฉูุฏ: \
**TON Wallet:** `nabikaz.ton` \
ุญูุงุช ุดูุง ุจุงุนุซ ุฏูฺฏุฑู ุงุณุช.

## ๐ ูุงุณูุณ
ุชุญุช ูุฌูุฒ GPL v3.0 โ ูุชู ฺฉุงูู ุฏุฑ ูุงู [LICENSE](./LICENSE).

ุณุงุฎุชูโุดุฏู ุจุง โค๏ธ ุจู ฺฉูฺฉ GPT-5
